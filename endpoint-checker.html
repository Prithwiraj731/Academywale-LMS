<!DOCTYPE html>
<html>
<head>
    <title>Backend Endpoint Checker</title>
</head>
<body>
    <h1>Checking Your Deployed Backend Endpoints</h1>
    <div id="results"></div>
    
    <script>
    async function checkEndpoints() {
        const results = document.getElementById('results');
        const baseURL = 'https://academywale-lms.onrender.com';
        
        const endpoints = [
            '/api/admin/courses',
            '/api/admin/courses/new', 
            '/api/admin/courses/standalone',
            '/api/courses/all',
            '/api/courses/standalone'
        ];
        
        results.innerHTML = '<h3>Testing Endpoints...</h3>';
        
        for (const endpoint of endpoints) {
            try {
                const response = await fetch(baseURL + endpoint, { method: 'OPTIONS' });
                const status = response.status;
                
                if (status === 404) {
                    results.innerHTML += `<p>‚ùå ${endpoint} - NOT FOUND (404)</p>`;
                } else if (status === 200 || status === 405 || status === 501) {
                    results.innerHTML += `<p>‚úÖ ${endpoint} - EXISTS (${status})</p>`;
                } else {
                    results.innerHTML += `<p>üî∂ ${endpoint} - STATUS: ${status}</p>`;
                }
            } catch (error) {
                results.innerHTML += `<p>‚ùå ${endpoint} - ERROR: ${error.message}</p>`;
            }
        }
        
        results.innerHTML += '<h3>Checking GET endpoints:</h3>';
        
        try {
            const coursesResponse = await fetch(baseURL + '/api/courses/all');
            if (coursesResponse.ok) {
                results.innerHTML += '<p>‚úÖ /api/courses/all - Working</p>';
            } else {
                results.innerHTML += '<p>‚ùå /api/courses/all - Failed</p>';
            }
        } catch (error) {
            results.innerHTML += '<p>‚ùå /api/courses/all - Error: ' + error.message + '</p>';
        }
    }
    
    checkEndpoints();
    </script>
</body>
</html>
