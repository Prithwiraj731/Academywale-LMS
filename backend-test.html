<!DOCTYPE html>
<html>
<head>
    <title>Backend API Test</title>
</head>
<body>
    <h1>Testing Academy Wale Backend API</h1>
    
    <div id="results"></div>
    
    <script>
    async function testAPI() {
        const results = document.getElementById('results');
        
        try {
            // Test 1: Check if backend is alive
            console.log('Testing backend connection...');
            const response = await fetch('https://academywale-lms.onrender.com/api/courses/all');
            
            if (response.ok) {
                results.innerHTML += '<p>✅ Backend is online and responding</p>';
                
                // Test 2: Check if the standalone endpoint exists
                const testResponse = await fetch('https://academywale-lms.onrender.com/api/admin/courses/standalone', {
                    method: 'OPTIONS'
                });
                
                if (testResponse.status !== 404) {
                    results.innerHTML += '<p>✅ Course creation endpoint exists</p>';
                    results.innerHTML += '<p>🎯 The backend should work! Try creating a course again.</p>';
                } else {
                    results.innerHTML += '<p>❌ Course creation endpoint not found - need to deploy latest code</p>';
                }
                
            } else {
                results.innerHTML += '<p>❌ Backend responded with error: ' + response.status + '</p>';
            }
            
        } catch (error) {
            results.innerHTML += '<p>❌ Cannot connect to backend: ' + error.message + '</p>';
            results.innerHTML += '<p>🔧 Please check if Render service is running</p>';
        }
    }
    
    // Run test when page loads
    testAPI();
    </script>
</body>
</html>
